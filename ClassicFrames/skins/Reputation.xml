<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\..\Blizzard_SharedXML\UI.xsd">
	<Script file="Reputation.lua"/>
	<Frame name="ReputationParagonFrameTemplate" frameStrata="HIGH" enableMouse="true" virtual="true">
		<Size x="20" y="20"/>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture parentKey="Glow" atlas="ParagonReputation_Glow" useAtlasSize="true">
					<Anchors>
						<Anchor point="CENTER" x="-1" y="0"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="ARTWORK">
				<Texture parentKey="Icon" atlas="ParagonReputation_Bag" useAtlasSize="true">
					<Anchors>
						<Anchor point="CENTER"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<Texture parentKey="Check" atlas="ParagonReputation_Checkmark" useAtlasSize="true">
					<Anchors>
						<Anchor point="CENTER" x="5" y="-2"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="HIGHLIGHT">
				<Texture parentKey="Highlight" atlas="ParagonReputation_Bag" useAtlasSize="true" alphaMode="ADD">
					<Anchors>
						<Anchor point="CENTER"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Scripts>
			<OnEnter function="ReputationParagonFrame_OnEnter"/>
			<OnLeave function="ReputationParagonFrame_OnLeave"/>
			<OnUpdate function="ReputationParagonFrame_OnUpdate"/>
		</Scripts>
	</Frame>
	<Button name="CfReputationBarTemplate" virtual="true">
		<Size x="295" y="20"/>
		<Layers>
			<Layer level="ARTWORK">
				<Texture name="$parentBackground" file="Interface\PaperDollInfoFrame\UI-Character-ReputationBar">
					<Size x="0" y="21"/>
					<Anchors>
						<Anchor point="LEFT">
							<Offset x="0" y="0"/>
						</Anchor>
					</Anchors>
					<TexCoords left="0.0" right="0.7578125" top="0.0" bottom="0.328125"/>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString name="$parentFactionName" inherits="GameFontHighlightSmall" justifyH="LEFT">
					<Size x="135" y="10"/> <!--This is resized in Lua-->
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parentExpandOrCollapseButton">
				<Size x="13" y="13"/>
				<Anchors>
					<Anchor point="LEFT" x="3" y="0"/>
				</Anchors>
				<HitRectInsets>
					<AbsInset left="1" right="-4" top="-2" bottom="-2"/>
				</HitRectInsets>
				<Scripts>
					<OnClick>
						if (self:GetParent().isCollapsed) then
							ExpandFactionHeader(self:GetParent().index);
						else
							CollapseFactionHeader(self:GetParent().index);
						end
					</OnClick>
				</Scripts>
				<NormalTexture file="Interface\Buttons\UI-MinusButton-UP">
					<Size x="16" y="16"/>
					<Anchors>
						<Anchor point="LEFT" x="3" y="0"/>
					</Anchors>
				</NormalTexture>
				<HighlightTexture name="$parentHighlight" file="Interface\Buttons\UI-PlusButton-Hilight" alphaMode="ADD">
					<Size x="16" y="16"/>
					<Anchors>
						<Anchor point="LEFT" x="3" y="0"/>
					</Anchors>
				</HighlightTexture>
			</Button>
			<StatusBar name="$parentReputationBar" drawLayer="BACKGROUND" minValue="0" maxValue="1" defaultValue="1">
				<Size x="101" y="13"/>
				<Anchors>
					<Anchor point="RIGHT" x="0" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<Texture name="$parentAtWarHighlight2" file="Interface\PaperDollInfoFrame\UI-Character-ReputationBar" alphaMode="ADD" hidden="true">
							<Size x="103" y="17"/>
							<Anchors>
								<Anchor point="TOPRIGHT">
									<Offset x="0" y="0"/>
								</Anchor>
							</Anchors>
							<TexCoords left="0" right="0.40234375" top="0.734375" bottom="1.0"/>
						</Texture>
						<Texture name="$parentAtWarHighlight1" file="Interface\PaperDollInfoFrame\UI-Character-ReputationBar" alphaMode="ADD" hidden="true">
							<Size x="0" y="17"/>
							<Anchors>
								<Anchor point="RIGHT" relativeTo="$parentAtWarHighlight2" relativePoint="LEFT">
									<Offset x="0" y="0"/>
								</Anchor>
							</Anchors>
							<TexCoords left="0.25390625" right="1" top="0.375" bottom="0.640625"/>
						</Texture>
					</Layer>
					<Layer level="ARTWORK">
						<Texture name="$parentLeftTexture" file="Interface\PaperDollInfoFrame\UI-Character-ReputationBar">
							<Size x="62" y="21"/>
							<Anchors>
								<Anchor point="LEFT" x="0" y="0"/>
							</Anchors>
							<TexCoords left="0.691" right="1.0" top="0.047" bottom="0.281"/>
						</Texture>
						<Texture name="$parentRightTexture" file="Interface\PaperDollInfoFrame\UI-Character-ReputationBar">
							<Size x="42" y="21"/>
							<Anchors>
								<Anchor point="LEFT" relativeTo="$parentLeftTexture" relativePoint="RIGHT" x="0" y="0"/>
							</Anchors>
							<TexCoords left="0.0" right="0.164" top="0.3906" bottom="0.625"/>
						</Texture>
						<FontString name="$parentFactionStanding" inherits="GameFontHighlightSmall" text="Revered">
							<Anchors>
								<Anchor point="CENTER" x="0" y="0"/>
							</Anchors>
						</FontString>
					</Layer>
					<Layer level="OVERLAY">
						<Texture name="$parentHighlight2" file="Interface\PaperDollInfoFrame\UI-Character-ReputationBar-Highlight" alphaMode="ADD" hidden="true">
							<Size x="17" y="28"/>
							<Anchors>
								<Anchor point="RIGHT">
									<Offset x="4" y="0"/>
								</Anchor>
							</Anchors>
							<TexCoords left="0" right="0.06640625" top="0.4375" bottom="0.875"/>
						</Texture>
						<Texture name="$parentHighlight1" file="Interface\PaperDollInfoFrame\UI-Character-ReputationBar-Highlight" alphaMode="ADD" hidden="true">
							<Size x="0" y="28"/>
							<Anchors>
								<Anchor point="RIGHT" relativeTo="$parentHighlight2" relativePoint="LEFT"/>
							</Anchors>
							<TexCoords left="0" right="1" top="0" bottom="0.4375"/>
						</Texture>
					</Layer>
				</Layers>
				<Frames>
					<Frame parentKey="BonusIcon" hidden="true">
						<Size x="16" y="16"/>
						<Anchors>
							<Anchor point="CENTER" relativeKey="$parent" relativePoint="LEFT" x="4" y="0"/>
						</Anchors>
						<Layers>
							<Layer level="ARTWORK">
								<Texture parentKey="Texture" file="Interface\Common\ReputationStar" setAllPoints="true">
									<TexCoords left="0.5" right="1" top="0.5" bottom="1"/>
								</Texture>
							</Layer>
						</Layers>
						<Scripts>
							<OnEnter>
								GameTooltip:SetOwner(self, "ANCHOR_RIGHT");
								GameTooltip:SetText(BONUS_REPUTATION_TITLE, 1, 1, 1);
								GameTooltip:AddLine(BONUS_REPUTATION_TOOLTIP, nil, nil, nil, true);
								GameTooltip:Show();
							</OnEnter>
							<OnLeave function="GameTooltip_Hide"/>
						</Scripts>
					</Frame>
				</Frames>
				<BarTexture file="Interface\PaperDollInfoFrame\UI-Character-Skills-Bar"/>
				<BarColor r=".25" g=".25" b=".75"/>
			</StatusBar>
		</Frames>
		<Scripts>
			<OnLoad>
				_G[self:GetName().."ReputationBarHighlight1"]:SetPoint("TOPLEFT",self,"TOPLEFT",-2, 4);
				_G[self:GetName().."ReputationBarHighlight1"]:SetPoint("BOTTOMRIGHT",self,"BOTTOMRIGHT",-10, -4);
				_G[self:GetName().."ReputationBarAtWarHighlight1"]:SetPoint("TOPLEFT",self,"TOPLEFT",3,-2);
				_G[self:GetName().."ReputationBarAtWarHighlight2"]:SetPoint("TOPRIGHT",self,"TOPRIGHT",-1,-2);
				_G[self:GetName().."ReputationBarAtWarHighlight1"]:SetAlpha(0.2);
				_G[self:GetName().."ReputationBarAtWarHighlight2"]:SetAlpha(0.2);
				_G[self:GetName().."Background"]:SetPoint("TOPRIGHT", self:GetName().."ReputationBarLeftTexture", "TOPLEFT", 0, 0);
			</OnLoad>
			<OnClick>
				ReputationBar_OnClick(self, button, down);
			</OnClick>
			<OnEnter>
				if (self.rolloverText) then
					_G[self:GetName().."ReputationBarFactionStanding"]:SetText(self.rolloverText);
				end
				_G[self:GetName().."ReputationBarHighlight1"]:Show();
				_G[self:GetName().."ReputationBarHighlight2"]:Show();
				if ( self.friendshipID ) then
					ShowFriendshipReputationTooltip(self.friendshipID, self, "ANCHOR_BOTTOMRIGHT");
				elseif (_G[self:GetName().."FactionName"]:IsTruncated()) then
					GameTooltip:SetOwner(self, "ANCHOR_RIGHT");
					GameTooltip:SetText(_G[self:GetName().."FactionName"]:GetText(), nil, nil, nil, nil, true);
					GameTooltip:Show();
				end
			</OnEnter>
			<OnLeave>
				_G[self:GetName().."ReputationBarFactionStanding"]:SetText(self.standingText);
				if ((GetSelectedFaction() ~= self.index) or (not ReputationDetailFrame:IsShown())) then
					_G[self:GetName().."ReputationBarHighlight1"]:Hide();
					_G[self:GetName().."ReputationBarHighlight2"]:Hide();
				end
				GameTooltip:Hide();
			</OnLeave>
		</Scripts>
	</Button>

	<Frame name="CfReputationFrame" setAllPoints="true" enableMouse="true" parent="CharacterFrame" useParentLevel="true" hidden="true">
		<Layers>
			<Layer level="ARTWORK">
				<FontString name="CfReputationFrameFactionLabel" inherits="GameFontHighlight" text="FACTION">
					<Anchors>
						<Anchor point="TOPLEFT" x="70" y="-42"/>
					</Anchors>
				</FontString>
				<FontString name="CfReputationFrameStandingLabel" inherits="GameFontHighlight" text="STANDING">
					<Anchors>
						<Anchor point="TOPLEFT" x="215" y="-42"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button name="ReputationBar1" inherits="CfReputationBarTemplate" id="1">
				<Anchors>
					<Anchor point="TOPRIGHT" x="-68" y="-63"/>
				</Anchors>
			</Button>
			<Button name="ReputationBar2" inherits="CfReputationBarTemplate" id="2">
				<Anchors>
					<Anchor point="TOPRIGHT" relativeTo="ReputationBar1" relativePoint="BOTTOMRIGHT" x="0" y="-3"/>
				</Anchors>
			</Button>
			<Button name="ReputationBar3" inherits="CfReputationBarTemplate" id="3">
				<Anchors>
					<Anchor point="TOPRIGHT" relativeTo="ReputationBar2" relativePoint="BOTTOMRIGHT" x="0" y="-3"/>
				</Anchors>
			</Button>
			<Button name="ReputationBar4" inherits="CfReputationBarTemplate" id="4">
				<Anchors>
					<Anchor point="TOPRIGHT" relativeTo="ReputationBar3" relativePoint="BOTTOMRIGHT" x="0" y="-3"/>
				</Anchors>
			</Button>
			<Button name="ReputationBar5" inherits="CfReputationBarTemplate" id="5">
				<Anchors>
					<Anchor point="TOPRIGHT" relativeTo="ReputationBar4" relativePoint="BOTTOMRIGHT" x="0" y="-3"/>
				</Anchors>
			</Button>
			<Button name="ReputationBar6" inherits="CfReputationBarTemplate" id="6">
				<Anchors>
					<Anchor point="TOPRIGHT" relativeTo="ReputationBar5" relativePoint="BOTTOMRIGHT" x="0" y="-3"/>
				</Anchors>
			</Button>
			<Button name="ReputationBar7" inherits="CfReputationBarTemplate" id="7">
				<Anchors>
					<Anchor point="TOPRIGHT" relativeTo="ReputationBar6" relativePoint="BOTTOMRIGHT" x="0" y="-3"/>
				</Anchors>
			</Button>
			<Button name="ReputationBar8" inherits="CfReputationBarTemplate" id="8">
				<Anchors>
					<Anchor point="TOPRIGHT" relativeTo="ReputationBar7" relativePoint="BOTTOMRIGHT" x="0" y="-3"/>
				</Anchors>
			</Button>
			<Button name="ReputationBar9" inherits="CfReputationBarTemplate" id="9">
				<Anchors>
					<Anchor point="TOPRIGHT" relativeTo="ReputationBar8" relativePoint="BOTTOMRIGHT" x="0" y="-3"/>
				</Anchors>
			</Button>
			<Button name="ReputationBar10" inherits="CfReputationBarTemplate" id="10">
				<Anchors>
					<Anchor point="TOPRIGHT" relativeTo="ReputationBar9" relativePoint="BOTTOMRIGHT" x="0" y="-3"/>
				</Anchors>
			</Button>
			<Button name="ReputationBar11" inherits="CfReputationBarTemplate" id="11">
				<Anchors>
					<Anchor point="TOPRIGHT" relativeTo="ReputationBar10" relativePoint="BOTTOMRIGHT" x="0" y="-3"/>
				</Anchors>
			</Button>
			<Button name="ReputationBar12" inherits="CfReputationBarTemplate" id="12">
				<Anchors>
					<Anchor point="TOPRIGHT" relativeTo="ReputationBar11" relativePoint="BOTTOMRIGHT" x="0" y="-3"/>
				</Anchors>
			</Button>
			<Button name="ReputationBar13" inherits="CfReputationBarTemplate" id="13">
				<Anchors>
					<Anchor point="TOPRIGHT" relativeTo="ReputationBar12" relativePoint="BOTTOMRIGHT" x="0" y="-3"/>
				</Anchors>
			</Button>
			<Button name="ReputationBar14" inherits="CfReputationBarTemplate" id="14">
				<Anchors>
					<Anchor point="TOPRIGHT" relativeTo="ReputationBar13" relativePoint="BOTTOMRIGHT" x="0" y="-3"/>
				</Anchors>
			</Button>
			<Button name="ReputationBar15" inherits="CfReputationBarTemplate" id="15">
				<Anchors>
					<Anchor point="TOPRIGHT" relativeTo="ReputationBar14" relativePoint="BOTTOMRIGHT" x="0" y="-3"/>
				</Anchors>
			</Button>
			<ScrollFrame name="ReputationListScrollFrame" inherits="FauxScrollFrameTemplate">
				<Anchors>
					<Anchor point="TOPLEFT" relativeKey="$parent.$parent.Inset" x="0" y="-4"/>
					<Anchor point="BOTTOMRIGHT" relativeKey="$parent.$parent.Inset" x="-27" y="2"/>
				</Anchors>
				<Scripts>
					<OnVerticalScroll>
						FauxScrollFrame_OnVerticalScroll(self, offset, REPUTATIONFRAME_FACTIONHEIGHT, CfReputationFrame_Update);
					</OnVerticalScroll>
					<OnShow>
						ReputationBar1:SetPoint("TOPRIGHT", CfReputationFrame, "TOPRIGHT", -50, -68);
					</OnShow>
					<OnHide>
						ReputationBar1:SetPoint("TOPRIGHT", CfReputationFrame, "TOPRIGHT", -26, -68);
					</OnHide>
				</Scripts>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture file="Interface\PaperDollInfoFrame\UI-Character-ScrollBar">
							<Size x="31" y="256"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="TOPRIGHT" x="-2" y="5"/>
							</Anchors>
							<TexCoords left="0" right="0.484375" top="0" bottom="1.0"/>
						</Texture>
						<Texture file="Interface\PaperDollInfoFrame\UI-Character-ScrollBar">
							<Size x="31" y="108"/>
							<Anchors>
								<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMRIGHT" x="-2" y="-4"/>
							</Anchors>
							<TexCoords left="0.515625" right="1.0" top="0" bottom="0.421875"/>
						</Texture>
					</Layer>
				</Layers>
			</ScrollFrame>
		</Frames>
		<Scripts>
			<OnLoad function="CfReputationFrame_OnLoad"/>
			<OnShow function="CfReputationFrame_OnShow"/>
			<OnHide function="CfReputationFrame_OnHide"/>
			<OnEvent function="CfReputationFrame_OnEvent"/>
			<OnMouseWheel function=""/>
		</Scripts>
	</Frame>
</Ui>